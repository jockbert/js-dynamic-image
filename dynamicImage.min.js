function DynamicImage(e,t,n,f,o){function i(){var e=-1==u?Math.round(c.offsetWidth/o)+"px":"100%";c.style.height!=e&&(c.style.height=e)}function r(e){for(var t=e.offsetTop,n=e.offsetLeft,f=e.offsetWidth,o=e.offsetHeight,i=h.pageXOffset,r=h.pageYOffset;e.offsetParent;)e=e.offsetParent,t+=e.offsetTop,n+=e.offsetLeft;return t<r+h.innerHeight&&n<i+h.innerWidth&&t+o>r&&n+f>i}function a(){if(i(),r(c)){var e=c.offsetWidth;if(!(u>=e)){for(var t=f[0],o=n[0],a=1;a<n.length&&n[a-1]<e;++a)t=f[a],o=n[a];o>u&&(c.src=t,u=o,i())}}}function s(e,t){function n(){f=!1,e()}var f=!1;return function(){f||(f=!0,h.setTimeout(n,t))}}function d(){c.style.width=e,c.src="data:image/gif;base64,R0lGODlhAQABAIABAKCgoP///yH5BAEKAAEALAAAAAABAAEAAAICRAEAOw==",i()}e=e||"100%",t=t||500,n=n||[],f=f||[],o=o||1.8;var c=document.createElement("img"),u=-1,A=this,h=window;A.setSources=function(e,t,i){n=e,f=t,o=i||o,u=-1,l()},A.setSource=function(e,t){f=[e],n=[1e6],o=t||o};var l=s(a,t);A.delayedUpdate=l;var l=s(a,t),v=s(function(){a(),-1!=u&&h.removeEventListener("scroll",A.delayedLoadEvent)},t);A.delayedLoadEvent=v,A.register=function(){h.addEventListener("resize",l),h.addEventListener("scroll",v)},d(),A.appendTo=function(e){var t=document.getElementById(e);return t&&t.appendChild(c),A}}