function DynamicImage(t){function n(){return-1==l}function e(t){return function(){return t}}function f(t,n,e){t[n]!=e&&(t[n]=e)}function i(){f(g.style,"height",p())}function o(t){for(var n=t.offsetTop,e=t.offsetLeft,f=t.offsetWidth,i=t.offsetHeight,o=m.pageXOffset,r=m.pageYOffset;t.offsetParent;)t=t.offsetParent,n+=t.offsetTop,e+=t.offsetLeft;return n<r+m.innerHeight&&e<o+m.innerWidth&&n+i>r&&e+f>o}function r(){if(i(),o(g)){var t=g.offsetWidth;if(!(l>=t)){for(var n=w[0],e=E[0],f=1;f<E.length&&E[f-1]<t;++f)n=w[f],e=E[f];e>l&&(g.src=n,l=e,i())}}}function u(){l=-1,g.src="data:image/gif;base64,R0lGODlhAQABAIABAKCgoP///yH5BAEKAAEALAAAAAABAAEAAAICRAEAOw==",r()}function c(t,n){function e(){f=!1,t()}var f=!1;return function(){f||(f=!0,m.setTimeout(e,n))}}function s(){var t=E[E.length-1];return l==t}function a(t){return function(){return!t()}}function A(t,n,f,i){function o(){f(),i()&&t.removeEventListener(n,o)}i=i||e(!1),t.addEventListener(n,o)}function h(){var e=c(r,t);A(m,"scroll",e,a(n)),A(m,"resize",e,s)}function d(t){return function(n,e){return t(n,e),v}}t=t||500;var g=document.createElement("img"),l=-1,v=this,m=window,p=e("100%"),E=[],w=[];u(),h(),v.appendTo=d(function(t){var n=document.getElementById(t);n&&n.appendChild(g)}),v.width=d(function(t){f(g.style,"width",t)}),v.height=d(function(t){p=e(t)}),v.heightAsPixelRatioOfWidth=d(function(t){p=function(){var n=Math.round(g.offsetWidth*t);return n+"px"}}),v.update=d(r),v.setSources=d(function(t,n){E=t,w=n,u()}),v.setSource=d(function(t){w=[t],E=[1e6],u()})}