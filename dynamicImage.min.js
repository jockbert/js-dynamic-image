function DynamicImage(e,t,n,f,o,i){function r(){var e=-1==d?Math.round(A.offsetWidth/i)+"px":"100%";A.style.height!=e&&(A.style.height=e)}function s(e){for(var t=e.offsetTop,n=e.offsetLeft,f=e.offsetWidth,o=e.offsetHeight,i=l.pageXOffset,r=l.pageYOffset;e.offsetParent;)e=e.offsetParent,t+=e.offsetTop,n+=e.offsetLeft;return t<r+l.innerHeight&&n<i+l.innerWidth&&t+o>r&&n+f>i}function a(){if(r(),console.log("update for "+e),s(A)){var t=A.offsetWidth;if(!(d>=t)){for(var n=o[0],i=f[0],a=1;a<f.length&&f[a-1]<t;++a)n=o[a],i=f[a];i>d&&(A.src=n,d=i,r())}}}function c(e,t){function n(){f=!1,e()}var f=!1;return function(){f||(f=!0,l.setTimeout(n,t))}}function u(){var n=document.getElementById(e);n&&n.appendChild(A),A.style.width=t,A.src="data:image/gif;base64,R0lGODlhAQABAIABAKCgoP///yH5BAEKAAEALAAAAAABAAEAAAICRAEAOw==",A.addEventListener("resize",g),r()}t=t||"100%",n=n||500,f=f||[],o=o||[],i=i||1.8;var A=document.createElement("img"),d=-1,h=this,l=window;h.setSources=function(e,t,n){f=e,o=t,i=n||i,d=-1,g()},h.setSource=function(e,t){o=[e],f=[1e6],i=t||i};var g=c(a,n);h.delayedUpdate=g,h.register=function(){function e(e){return function(){e&&e(),g()}}l.onresize=e(l.onresize),l.onscroll=e(l.onscroll)},u()}