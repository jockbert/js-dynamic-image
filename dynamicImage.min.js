function DynamicImage(e,t,n,f,o){function i(){var e=-1==A?Math.round(u.offsetWidth/o)+"px":"100%";u.style.height!=e&&(u.style.height=e)}function r(e){for(var t=e.offsetTop,n=e.offsetLeft,f=e.offsetWidth,o=e.offsetHeight,i=h.pageXOffset,r=h.pageYOffset;e.offsetParent;)e=e.offsetParent,t+=e.offsetTop,n+=e.offsetLeft;return t<r+h.innerHeight&&n<i+h.innerWidth&&t+o>r&&n+f>i}function s(){if(i(),r(u)){var e=u.offsetWidth;if(!(A>=e)){for(var t=f[0],o=n[0],s=1;s<n.length&&n[s-1]<e;++s)t=f[s],o=n[s];o>A&&(u.src=t,A=o,i())}}}function a(e,t){function n(){f=!1,e()}var f=!1;return function(){f||(f=!0,h.setTimeout(n,t))}}function c(){u.style.width=e,u.src="data:image/gif;base64,R0lGODlhAQABAIABAKCgoP///yH5BAEKAAEALAAAAAABAAEAAAICRAEAOw==",u.addEventListener("resize",g),i()}e=e||"100%",t=t||500,n=n||[],f=f||[],o=o||1.8;var u=document.createElement("img"),A=-1,d=this,h=window;d.setSources=function(e,t,i){n=e,f=t,o=i||o,A=-1,g()},d.setSource=function(e,t){f=[e],n=[1e6],o=t||o};var g=a(s,t);d.delayedUpdate=g,d.register=function(){function e(e){return function(){e&&e(),g()}}h.onresize=e(h.onresize),h.onscroll=e(h.onscroll)},c(),d.appendTo=function(e){var t=document.getElementById(e);return t&&t.appendChild(u),d}}