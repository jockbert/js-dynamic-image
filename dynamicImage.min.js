function DynamicImage(t){function n(){return-1==l}function e(t){return function(){return t}}function i(t,n,e){t[n]!=e&&(t[n]=e)}function f(){i(g.style,"height",p())}function o(t){for(var n=t.offsetTop,e=t.offsetLeft,i=t.offsetWidth,f=t.offsetHeight,o=m.pageXOffset,r=m.pageYOffset;t.offsetParent;)t=t.offsetParent,n+=t.offsetTop,e+=t.offsetLeft;return n<r+m.innerHeight&&e<o+m.innerWidth&&n+f>r&&e+i>o}function r(){if(f(),o(g)){var t=g.offsetWidth;if(!(l>=t)){for(var n=w[0],e=1;e<w.length&&w[e-1].width<t;++e)n=w[e];n.width>l&&(g.src=n.src,l=n.width,f())}}}function u(){l=-1,g.src="data:image/gif;base64,R0lGODlhAQABAIABAKCgoP///yH5BAEKAAEALAAAAAABAAEAAAICRAEAOw==",r()}function c(t,n){function e(){i=!1,t()}var i=!1;return function(){i||(i=!0,m.setTimeout(e,n))}}function s(){var t=w[w.length-1].width;return l==t}function a(t){return function(){return!t()}}function h(t,n,i,f){function o(){i(),f()&&t.removeEventListener(n,o)}f=f||e(!1),t.addEventListener(n,o)}function d(){var e=c(r,t);h(m,"scroll",e,a(n)),h(m,"resize",e,s)}function A(t){return function(n){return t(n),v}}t=t||500;var g=document.createElement("img"),l=-1,v=this,m=window,p=e("100%"),w=[];u(),d(),v.appendTo=A(function(t){var n=document.getElementById(t);n&&n.appendChild(g)}),v.width=A(function(t){i(g.style,"width",t)}),v.height=A(function(t){p=e(t)}),v.heightAsPixelRatioOfWidth=A(function(t){p=function(){var n=Math.round(g.offsetWidth*t);return n+"px"}}),v.update=A(r),v.sources=A(function(t){w=t,u()}),v.singleSource=A(function(t){w=[{width:1e5,src:t}],u()})}