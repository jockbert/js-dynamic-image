function DynamicImage(t){function n(t){return function(){return t}}function e(t,n){function e(){i=!1,t()}var i=!1;return function(){i||(i=!0,v.setTimeout(e,n))}}function i(t,n,e){t[n]!=e&&(t[n]=e)}function f(t){for(var n=t.offsetTop,e=t.offsetLeft,i=t.offsetWidth,f=t.offsetHeight,o=v.pageXOffset,r=v.pageYOffset;t.offsetParent;)t=t.offsetParent,n+=t.offsetTop,e+=t.offsetLeft;return n<r+v.innerHeight&&e<o+v.innerWidth&&n+f>r&&e+i>o}function o(t,e,i,f){function o(){i(),f()&&t.removeEventListener(e,o)}f=f||n(!1),t.addEventListener(e,o)}function r(){i(A.style,"height",m())}function u(){if(r(),f(A)){var t=A.offsetWidth;if(!(g>=t)){for(var n=p[0],e=1;e<p.length&&p[e-1].width<t;++e)n=p[e];n.width>g&&(A.src=n.src,g=n.width,r())}}}function c(){g=-1,A.src="data:image/gif;base64,R0lGODlhAQABAIABAKCgoP///yH5BAEKAAEALAAAAAABAAEAAAICRAEAOw==",u()}function s(){var t=p[p.length-1].width;return g==t}function a(){return-1!=g}function h(){var n=e(u,t);o(v,"scroll",n,a),o(v,"resize",n,s)}function d(t){return function(n){return t(n),l}}t=t||500;var A=document.createElement("img"),g=-1,l=this,v=window,m=n("100%"),p=[];h(),c(),l.appendTo=d(function(t){var n=document.getElementById(t);n&&n.appendChild(A)}),l.width=d(function(t){i(A.style,"width",t)}),l.height=d(function(t){m=n(t)}),l.heightAsPixelRatioOfWidth=d(function(t){m=function(){var n=Math.round(A.offsetWidth*t);return n+"px"}}),l.update=d(u),l.sources=d(function(t){p=t,c()}),l.singleSource=d(function(t){p=[{width:1e5,src:t}],c()})}