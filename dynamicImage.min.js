function DynamicImage(t,n,e,f){function i(){return-1==p}function o(t){return function(){return t}}function r(t,n,e){t[n]!=e&&(t[n]=e)}function u(){r(m.style,"height",y())}function c(t){for(var n=t.offsetTop,e=t.offsetLeft,f=t.offsetWidth,i=t.offsetHeight,o=w.pageXOffset,r=w.pageYOffset;t.offsetParent;)t=t.offsetParent,n+=t.offsetTop,e+=t.offsetLeft;return n<r+w.innerHeight&&e<o+w.innerWidth&&n+i>r&&e+f>o}function s(){if(u(),c(m)){var t=m.offsetWidth;if(!(p>=t)){for(var n=f[0],i=e[0],o=1;o<e.length&&e[o-1]<t;++o)n=f[o],i=e[o];i>p&&(m.src=n,p=i,u())}}}function a(){p=-1,m.src="data:image/gif;base64,R0lGODlhAQABAIABAKCgoP///yH5BAEKAAEALAAAAAABAAEAAAICRAEAOw==",s()}function A(t,n){function e(){f=!1,t()}var f=!1;return function(){f||(f=!0,w.setTimeout(e,n))}}function h(){var t=e[e.length-1];return p==t}function d(t){return function(){return!t()}}function g(t,n,e,f){function i(){e(),f()&&t.removeEventListener(n,i)}f=f||o(!1),t.addEventListener(n,i)}function l(){var t=A(s,n);g(w,"scroll",t,d(i)),g(w,"resize",t,h)}function v(t){return function(n){return t(n),E}}n=n||500,e=e||[],f=f||[];var m=document.createElement("img"),p=-1,E=this,w=window,y=o("100%");E.setSources=function(t,n){e=t,f=n,a()},E.setSource=function(t){f=[t],e=[1e6],a()},a(),l(),E.appendTo=v(function(t){var n=document.getElementById(t);n&&n.appendChild(m)}),E.width=v(function(t){r(m.style,"width",t)}),E.height=v(function(t){y=o(t)}),E.heightAsPixelRatioOfWidth=v(function(t){y=function(){var n=Math.round(m.offsetWidth*t);return n+"px"}}),E.update=v(s)}